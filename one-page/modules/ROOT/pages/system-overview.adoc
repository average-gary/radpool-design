= System Overview

The diagram below shows how the miners and syndicate members
communicate. Note, there is no peer to peer communication between
miners. The syndicate members use point to point communication for
replicating state across each other and to to run distributed key
generation and FROST threshold signature protocols.

image::radpool-components-without-market-makers.png[alt="system overview",width="100%"]

Miners register with any syndicate member, and then communicate with
the syndicate member's stratum instance.

The syndicate member signs the shares it receives from the miner
before broadcasting them to the rest of the syndicate. This helps in
identifying the syndicate members that are serving each of the
miners. We will see later why this becomes important when it comes to
fee distribution among the syndicate members.

Market makers who want to fund channels and take on the risks run a
syndicate member as well. Miners register with these syndicates for a
fee rates and expiry times decided between them.


== Accounting and Miner Payouts

Syndicate member reach agreement on the amount of payouts for miners
using a BFT agreement protocol like
https://arxiv.org/pdf/1908.05156[Aleph].

With syndicate members each having an agreed upon state of the PoW
shares generated by miners, all syndicate members compute the reward
to paid out to each miner.

Syndicate member know the amounts to be paid out and all the other
transaction details to sign off on the payout updates. With this
knowlegde, all syndicate members run the FROST threshold signature
protocol to generate transactions that allow miners to unilaterally
exit.

== Stratum

Syndicate members communicate with miners using the industry standard
stratum protocol. This allows miners with current and older equipment
to start using Radpool without any extra effort to run services on
site or find service providers to get access to Radpool.

Miners register with syndicate miners using the same web based or cli
based tools as they used to for registering with existing centralised
pool operators. The requirements to register with a syndicate member
are entirely up to the syndicate member. Radpool does not and can not
impose any restrictions on these requirements.
